<pre>

一些键的指令:
  cd 对应目录

安装好node后,命令行输入“npm i nrm -g”安装nrm (node自带软件包管理工具npm) 
nrm提供了安包的几个常用地址,安装好nrm后，输入“nrm ls”(即list)查看下载包的地址(其中有淘宝镜像等网址,注意:是在此网址里下载所用的包)
输入“nrm use npm”或“nrm use taobao”即可切换下载源 然后再用“npm i 包名”下载包即可(推荐使用淘宝源,下载较快 npm是国外源地址下载较慢)

下载指定版本“npm i webpack@3.6.0 -g” @紧跟版本名 -g为全局安装(即在本机上以后无需安装)

局部安装“npm i webpack@3.6.0 --save-dev” 
(注:-dev是开发时依赖,项目打包后不需继续使用 若下载vue,则不得带-dev 因为vue在运行时代码也依赖它)

“npm init” 初始化 即重新开始配置相关的文件,给包起名配置路径等
  通过初始化生成了“package.json”包管理工具
  在“package.json”里的“script”中可以配置映射 使用时直接“npm run 映射名”
  映射例子: build(映射名):webpack(映射命令) 
  注意注意注意千万千万要注意:在构建映射时最后一个对象结尾千万千万不能给逗号,否则打包时报错,草,浪费了一天

构建映射的好处:当执行命令时先去配置文件


“npm init -y”应该是一步到位直接配置,但文件路径可能不能有中文名才行

node -v查看node版本

总结:本地配置及打包的整个过程(直接输入“webpack”为使用全局方式打包)
  1.新建“webpack.config.js”文件,写出打包路径(打包到“dist”中)打包时会生成“bundle.js”文件
  2.运行“npm init”进行初始化,生成“package.json”文件,在此构建映射
  3.本地安装“webpack”,生成“package-lock.json”和“node_modules”文件夹
  4.运行映射命令进行打包


凡是在终端直接执行的命令均为全局
构建了映射后执行命令时先去执行映射(即执行本地),若无相对应的映射再执行全局	


处理CSS：
webpack仅仅是处理JS之间的关系,CSS、图片之类的还需插件loader来处理

处理css文件下载css-loader和style-loader
css-loader只负责加载 style-loader负责解析 二者都要安装
loader使用安装步骤:
  通过“npm i --save-dev css-loader@version” 进行安装
  在webpack.config.js中使用“module”进行配置(“use”配置时“style”在前“css”在后,因为webpack读取loader时从右往左)
注意“css-loader”版本为“2.0.2” “style-loader”版本为“0.23.1”有时版本不对应也会出错
配置代码如下:
  module:{
		rules:[
			{
				test:/\.css$/,  // 处理css文件  注意:此处正则键值不带引号 
				use:['style-loader','css-loader']
			},


处理less:
处理less文件下载less-loader和less并在“webpack-config”的“rules”中进行相关配置
配置代码如下(紧接处理CSS对象后面):
  {
	test:/\.less$/, //处理less文件
	use:[{
			loader: "style-loader"
		},
		{
			loader: "css-loader"
		},
		{
			loader: "less-loader"
		}
	]
},


处理图片:
处理图片文件下载url-loader并在“rules”中进行图片相关配置

当图片大于“url-loader”配置中设置的limit值时会将图片处理成file文件此时需要下载“file-loader”并在“output”中进行“public-path”的配置
(注:public-path的路径配置代表以后所有有url的文件前面均会加所添加的前缀,因为打包文件是针对dist文件夹的)

webpack自动生成的图片名字较长,是个32位的哈希值,因此需要自定义命名 
在options中添加“name: 'img/[name].[hash:8].[ext]'”
img文件要打包到的文件夹 name获取图片原名放在该位置 hash:8防止图片名冲突依然使用hash但只保留8位 ext使用图片原扩展名(即后缀名)

配置代码如下(注意处理图片路径写在output中,而配置具体内容写在“module”的rules中):
output:{
	publicPath: 'dist/'
},


{
	test:/\.(jpg|png|gif|jpeg)$/, //处理图片
	use:[
		{
			loader: 'url-loader',
			options:{
				//当加载的图片小于limit时会将图片编译成base64字符串形式 大于limit时需用file-loader
				limit: 8192,
				name: 'img/[name].[hash:8].[ext]'
		}
	}]
},


处理ES6语法:
安装对应的loader npm i babel@... babel-core babel-preset-es2015 
有时可能还需安装环境 即babel-preset-env 

配置代码如下:
{
	test: /\.m?js$/, //处理ES6语法
	exclude: /(node_modules|bower_components)/, //排除node中的JS文件不编译 exclude排除的意思 
	use:[
		{
			loader: 'babel-loader',
			options: {
				presets: ['es2015']
			}
		}
	]
}


下载安装本地的VUE:
npm i vue --save 注意:不得带-dev 因为vue运行时也要依赖
若运行时出现如下错误:
“You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.”
进行模板文件配置即可
配置代码如下(在module.exports里配置):
resolve: {
	alias: {  //alias别名
		'vue$': 'vue/dist/vue.esm.js'
	}
}






老师的webpack配置相关版本：
webpack
npm install webpack@3.6.0

css-loader
npm install css-loader@2.0.2 --save-dev

style-loader
npm install style-loader@0.23.1 --save-dev

less-loader
npm install --save-dev less-loader@4.1.0 less@3.9.0

url-loader
npm install --save-dev url-loader@1.1.2

es6转换成es5
npm install --save-dev babel-loader@7.1.5 babel-core@6.26.3 babel-preset-es2015@6.24.1

Vue
npm install vue@2.5.21 --save

file-loader 
npm install --save-dev file-loader@3.0.1




在“webpack.json”中直接更改包的版本号,然后运行“npm install”就可将包重新更新下载




脚手架的下载安装:
 npm i -g @vue/cli@3.2.1
安装好版本3后由于未安装版本2故不能使用脚手架2,因此还要再拉取脚手架2的模板
执行命令 npm i -g @vue/cli-init 
这样既可使用2也可使用3


版本2初始化项目命令“vue init webpack 项目名称”
版本3初始化项目命令“vue create 项目名称”

终端输入“vue ui”启动查看配置文件,由于它自动会跑在本地服务 可在任意目录输入此命令

查看脚手架3配置文件,可在ui中查看也可在隐藏的文件下node-modules>@vue>cli-service>lib>serves.js










</pre>